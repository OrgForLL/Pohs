<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.md.goods.dao.ShopMapper">

	<!-- 通用查询映射结果 -->
	<resultMap id="BaseResultMap" type="com.md.goods.model.Shop">
		<id column="id" property="id" />
		<result column="name" property="name" />
		<result column="address" property="address" />
		<result column="num" property="num" />
		<result column="phone" property="phone" />
		<result column="lat" property="lat" />
		<result column="lng" property="lng" />
		<result column="provinceId" property="provinceId" />
		<result column="cityId" property="cityId" />
		<result column="countyId" property="countyId" />
		<result column="deptId" property="deptId" />
		<result column="kefuId" property="kefuId" />
		<result column="kefuName" property="kefuName" />
	</resultMap>

	<select id="getSumByStock" resultType="Long">
			select SUM(inventory) from shop_price_tag 
			where 
		shopId = #{shopId} 
		and 
		goodsId = #{goodsId} 
		and 
		marketable = 1
	</select>
	
	<update id="changeId" parameterType="Long">  
        UPDATE shop_shop  
            SET id = #{shopId}
         WHERE id = #{shopId2};     
</update>  
</mapper>
